fotoramaVersion="4.6.4",function(t,n,e,i,o){"use strict";function a(t){var n="bez_"+i.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof i.easing[n]){var e=function(t,n){var e=[null,null],i=[null,null],o=[null,null],a=function(a,r){return o[r]=3*t[r],i[r]=3*(n[r]-t[r])-o[r],e[r]=1-o[r]-i[r],a*(o[r]+a*(i[r]+a*e[r]))},r=function(t){return o[0]+t*(2*i[0]+3*e[0]*t)},s=function(t){for(var n,e=t,i=0;++i<14&&(n=a(e,0)-t,!(Math.abs(n)<.001));)e-=n/r(e);return e};return function(t){return a(s(t),1)}};i.easing[n]=function(n,i,o,a,r){return a*e([t[0],t[1]],[t[2],t[3]])(i/r)+o}}return n}function r(){}function s(t,n,e){return Math.max(isNaN(n)?-(1/0):n,Math.min(isNaN(e)?1/0:e,t))}function u(t,n){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?"vertical"===n?13:12:"vertical"===n?5:4]}function c(t,n){return Ln?+u(t.css("transform"),n):+t.css("vertical"===n?"top":"left").replace("px","")}function l(t,n){var e={};if(Ln)switch(n){case"vertical":e.transform="translate3d(0, "+t+"px,0)";break;case"list":break;default:e.transform="translate3d("+t+"px,0,0)"}else"vertical"===n?e.top=t:e.left=t;return e}function d(t){return{"transition-duration":t+"ms"}}function h(t,n){return isNaN(t)?n:t}function f(t,n){return h(+String(t).replace(n||"px",""))}function m(t){return/%$/.test(t)?f(t,"%"):o}function v(t,n){return h(m(t)/100*n,f(t))}function p(t){return(!isNaN(f(t))||!isNaN(f(t,"%")))&&t}function g(t,n,e,i){return(t-(i||0))*(n+(e||0))}function w(t,n,e,i){return-Math.round(t/(n+(e||0))-(i||0))}function b(){var t,n={transition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(Nn.style[t]!==o)return n[t]}function y(t){var n=t.data();if(!n.tEnd){t[0];B(t[0],b(),function(t){n.tProp&&t.propertyName.match(n.tProp)&&n.onEndFn()}),n.tEnd=!0}}function x(t,n,e,i){var o,a=t.data();a&&(a.onEndFn=function(){o||(o=!0,clearTimeout(a.tT),e())},a.tProp=n,clearTimeout(a.tT),a.tT=setTimeout(function(){a.onEndFn()},1.5*i),y(t))}function _(t,n){var e=t.navdir||"horizontal";if(t.length){var i=t.data();Ln?(t.css(d(0)),i.onEndFn=r,clearTimeout(i.tT)):t.stop();var o=C(n,function(){return c(t,e)});return t.css(l(o,e)),o}}function C(){for(var t,n=0,e=arguments.length;n<e&&(t=n?arguments[n]():arguments[n],"number"!=typeof t);n++);return t}function k(t,n){return Math.round(t+(n-t)/1.5)}function P(){return P.p=P.p||("https:"===e.protocol?"https://":"http://"),P.p}function S(t){var e=n.createElement("a");return e.href=t,e}function T(t,n){if("string"!=typeof t)return t;t=S(t);var e,i;if(t.host.match(/youtube\.com/)&&t.search){if(e=t.search.split("v=")[1]){var o=e.indexOf("&");o!==-1&&(e=e.substring(0,o)),i="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(e=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):t.host.match(/vimeo\.com/)&&(i="vimeo",e=t.pathname.replace(/^\/(\w+\/)*/,"").replace(/\/.*/,""));return e&&i||!n||(e=t.href,i="custom"),!!e&&{id:e,type:i,s:t.search.replace(/^\?/,""),p:P()}}function F(t,n,e){var o,a,r=t.video;return"youtube"===r.type?(a=P()+"img.youtube.com/vi/"+r.id+"/default.jpg",o=a.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?i.getJSON(P()+"vimeo.com/api/oembed.json",{url:"//vimeo.com/"+r.id},function(i){t.thumbsReady=!0,M(n,{img:i.thumbnail_url,thumb:i.thumbnail_url},t.i,e),console.log(i.thumbnail_url)}):t.thumbsReady=!0,{img:o,thumb:a}}function M(t,n,e,o){for(var a=0,r=t.length;a<r;a++){var s=t[a];if(s.i===e&&s.thumbsReady){var u={videoReady:!0};u[Gn]=u[te]=u[Zn]=!1,o.splice(a,1,i.extend({},s,u,n));break}}}function E(t){function n(t,n,o){var a=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),u=a.attr("src"),c=n.video,l=!!o&&T(r,c===!0);l?r=!1:l=c,e(t,a,i.extend(n,{video:l,img:n.img||r||s||u,thumb:n.thumb||u||s||r}))}function e(t,n,e){var o=e.thumb&&e.img!==e.thumb,a=f(e.width||t.attr("width")),r=f(e.height||t.attr("height"));i.extend(e,{width:a,height:r,thumbratio:K(e.thumbratio||f(e.thumbwidth||n&&n.attr("width")||o||a)/f(e.thumbheight||n&&n.attr("height")||o||r))})}var o=[];return t.children().each(function(){var t=i(this),a=H(i.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))n(t,a,!0);else{if(t.is(":empty"))return;e(t,null,i.extend(a,{html:this,_html:t.html()}))}o.push(a)}),o}function $(t){return 0===t.offsetWidth&&0===t.offsetHeight}function j(t){return!i.contains(n.documentElement,t)}function z(t,n,e,i){return z.i||(z.i=1,z.ii=[!0]),i=i||z.i,"undefined"==typeof z.ii[i]&&(z.ii[i]=!0),t()?n():z.ii[i]&&setTimeout(function(){z.ii[i]&&z(t,n,e,i)},e||100),z.i++}function q(t,n){var e=t.data(),i=e.measures;if(i&&(!e.l||e.l.W!==i.width||e.l.H!==i.height||e.l.r!==i.ratio||e.l.w!==n.w||e.l.h!==n.h)){var o=s(n.h,0,i.height),a=o*i.ratio;he.setRatio(t,a,o),e.l={W:i.width,H:i.height,r:i.ratio,w:n.w,h:n.h}}return!0}function N(t,n,e,i){return n!==e&&("vertical"===i?t<=n?"top":t>=e?"bottom":"top bottom":t<=n?"left":t>=e?"right":"left right")}function A(t,n,e){e=e||{},t.each(function(){var t,o=i(this),a=o.data();a.clickOn||(a.clickOn=!0,i.extend(ot(o,{onStart:function(n){t=n,(e.onStart||r).call(this,n)},onMove:e.onMove||r,onTouchEnd:e.onTouchEnd||r,onEnd:function(e){e.moved||n.call(this,t)}}),{noMove:!0}))})}function I(t,n){return'<div class="'+t+'">'+(n||"")+"</div>"}function L(t){return"."+t}function O(t){var n='<iframe src="'+t.p+t.type+".com/embed/"+t.id+'" frameborder="0" allowfullscreen></iframe>';return n}function D(t){for(var n=t.length;n;){var e=Math.floor(Math.random()*n--),i=t[n];t[n]=t[e],t[e]=i}return t}function R(t){return"[object Array]"==Object.prototype.toString.call(t)&&i.map(t,function(t){return i.extend({},t)})}function W(t,n,e){t.scrollLeft(n||0).scrollTop(e||0)}function H(t){if(t){var n={};return i.each(t,function(t,e){n[t.toLowerCase()]=e}),n}}function K(t){if(t){var n=+t;return isNaN(n)?(n=t.split("/"),+n[0]/+n[1]||o):n}}function B(t,n,e,i){n&&(t.addEventListener?t.addEventListener(n,e,!!i):t.attachEvent("on"+n,e))}function Q(t,n){return t>n.max?t=n.max:t<n.min&&(t=n.min),t}function V(t,n,e,i,o,a,r){var s,u,c;return"horizontal"===r?(u=t.thumbwidth,c=a.width()):(u=t.thumbheight,c=a.height()),s=(u+t.margin)*(e+1)-t.margin>=c-i?"horizontal"===r?-o.position().left:-o.position().top:(u+t.margin)*e-t.margin<=Math.abs(i)?"horizontal"===r?-o.position().left+c-(u+t.margin):-o.position().top+c-(u+t.margin):i,s=Q(s,n),s||0}function X(t){return!!t.getAttribute("disabled")}function Y(t,n){return n?{disabled:t}:{tabindex:t*-1+"",disabled:t}}function J(t,n){B(t,"keyup",function(e){X(t)||13==e.keyCode&&n.call(t,e)})}function U(t,n){B(t,"focus",t.onfocusin=function(e){n.call(t,e)},!0)}function G(t,n){t.preventDefault?t.preventDefault():t.returnValue=!1,n&&t.stopPropagation&&t.stopPropagation()}function Z(t,n){t.on(n,function(t){return G(t,!0),!1})}function tt(t){return t?">":"<"}function nt(t,n){var e=t.data(),o=Math.round(n.pos),a=function(){e&&e.sliding&&(e.sliding=!1),(n.onEnd||r)()};"undefined"!=typeof n.overPos&&n.overPos!==n.pos&&(o=n.overPos);var s=i.extend(l(o,n.direction),n.width&&{width:n.width},n.height&&{height:n.height});e&&e.sliding&&(e.sliding=!0),Ln?(t.css(i.extend(d(n.time),s)),n.time>10?x(t,"transform",a,n.time):a()):t.stop().animate(s,n.time,ee,a)}function et(t,n,e,o,a,s){var u="undefined"!=typeof s;if(u||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||i(t),n=n||i(n);var c=t[0],l=n[0],d="crossfade"===o.method,h=function(){if(!h.done){h.done=!0;var t=(u||a.shift())&&a.shift();t&&et.apply(this,t),(o.onEnd||r)(!!t)}},f=o.time/(s||1);e.removeClass(Bt+" "+Kt),t.stop().addClass(Bt),n.stop().addClass(Kt),d&&l&&t.fadeTo(0,0),t.fadeTo(d?f:0,1,d&&h),n.fadeTo(f,0,h),c&&d||l||h()}}function it(t){var n=(t.touches||[])[0]||t;t._x=n.pageX||n.originalEvent.pageX,t._y=n.clientY||n.originalEvent.clientY,t._now=i.now()}function ot(t,e){function o(t){return h=i(t.target),y.checked=v=p=w=!1,l||y.flow||t.touches&&t.touches.length>1||t.which>1||se&&se.type!==t.type&&ce||(v=e.select&&h.is(e.select,b))?v:(m="touchstart"===t.type,p=h.is("a, a *",b),f=y.control,g=y.noMove||y.noSwipe||f?16:y.snap?0:4,it(t),d=se=t,ue=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(e.onStart||r).call(b,t,{control:f,$target:h}),l=y.flow=!0,void(m&&!y.go||G(t)))}function a(t){if(t.touches&&t.touches.length>1||Wn&&!t.isPrimary||ue!==t.type||!l)return l&&s(),void(e.onTouchEnd||r)();it(t);var n=Math.abs(t._x-d._x),i=Math.abs(t._y-d._y),o=n-i,a=(y.go||y.x||o>=0)&&!y.noSwipe,u=o<0;m&&!y.checked?(l=a)&&G(t):(G(t),(e.onMove||r).call(b,t,{touch:m})),!w&&Math.sqrt(Math.pow(n,2)+Math.pow(i,2))>g&&(w=!0),y.checked=y.checked||a||u}function s(t){(e.onTouchEnd||r)();var n=l;y.control=l=!1,n&&(y.flow=!1),!n||p&&!y.checked||(t&&G(t),ce=!0,clearTimeout(le),le=setTimeout(function(){ce=!1},1e3),(e.onEnd||r).call(b,{moved:w,$target:h,control:f,touch:m,startEvent:d,aborted:!t||"MSPointerCancel"===t.type}))}function u(){y.flow||(y.flow=!0)}function c(){y.flow&&(y.flow=!1)}var l,d,h,f,m,v,p,g,w,b=t[0],y={};Wn?(B(b,"MSPointerDown",o),B(n,"MSPointerMove",a),B(n,"MSPointerCancel",s),B(n,"MSPointerUp",s)):(B(b,"touchstart",o),B(b,"touchmove",a),B(b,"touchend",s),B(n,"touchstart",u),B(n,"touchend",c),B(n,"touchcancel",c),zn.on("scroll",c),t.on("mousedown pointerdown",o),qn.on("mousemove pointermove",a).on("mouseup pointerup",s));var x="ontouchstart"in n.documentElement;return de=x?"a":"div",t.on("click",de,function(t){y.checked&&G(t)}),y}function at(t,n){function e(e,i){T=!0,c=d="vertical"===x?e._y:e._x,p=e._now,v=[[p,c]],h=f=E.noMove||i?0:_(t,(n.getPos||r)()),(n.onStart||r).call(F,e)}function o(n,i){w=E.min,b=E.max,y=E.snap,x=E.direction||"horizontal",t.navdir=x,C=n.altKey,T=S=!1,P=i.control,P||M.sliding||e(n)}function a(i,o){E.noSwipe||(T||e(i),d="vertical"===x?i._y:i._x,v.push([i._now,d]),f=h-(c-d),m=N(f,w,b,x),f<=w?f=k(f,w):f>=b&&(f=k(f,b)),E.noMove||(t.css(l(f,x)),S||(S=!0,o.touch||Wn||t.addClass(cn)),(n.onMove||r).call(F,i,{pos:f,edge:m})))}function u(o){if(!E.noSwipe||!o.moved){T||e(o.startEvent,!0),o.touch||Wn||t.removeClass(cn),g=i.now();for(var a,u,c,l,m,p,_,k,P,S=g-Kn,M=null,$=Bn,j=n.friction,z=v.length-1;z>=0;z--){if(a=v[z][0],u=Math.abs(a-S),null===M||u<c)M=a,l=v[z][1];else if(M===S||u>c)break;c=u}_=s(f,w,b);var q=l-d,N=q>=0,A=g-M,I=A>Kn,L=!I&&f!==h&&_===f;y&&(_=s(Math[L?N?"floor":"ceil":"round"](f/y)*y,w,b),w=b=_),L&&(y||_===f)&&(P=-(q/A),$*=s(Math.abs(P),n.timeLow,n.timeHigh),m=Math.round(f+P*$/j),y||(_=m),(!N&&m>b||N&&m<w)&&(p=N?w:b,k=m-p,y||(_=p),k=s(_+.03*k,p-50,p+50),$=Math.abs((f-k)/(P/j)))),$*=C?10:1,(n.onEnd||r).call(F,i.extend(o,{moved:o.moved||I&&y,pos:f,newPos:_,overPos:k,time:$,dir:x}))}}var c,d,h,f,m,v,p,g,w,b,y,x,C,P,S,T,F=t[0],M=t.data(),E={};return E=i.extend(ot(n.$wrap,i.extend({},n,{onStart:o,onMove:a,onEnd:u})),E)}function rt(t,n){var e,o,a,s=t[0],u={prevent:{}};return B(s,Hn,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(c)&&!Math.abs(s),d=tt(c<0),h=o===d,f=i.now(),m=f-a<Kn;o=d,a=f,l&&u.ok&&(!u.prevent[d]||e)&&(G(t,!0),e&&h&&m||(n.shift&&(e=!0,clearTimeout(u.t),u.t=setTimeout(function(){e=!1},Qn)),(n.onEnd||r)(t,n.shift?d:c)))}),u}function st(){i.each(i.Fotorama.instances,function(t,n){n.index=t})}function ut(t){i.Fotorama.instances.push(t),st()}function ct(t){i.Fotorama.instances.splice(t.index,1),st()}var lt="fotorama",dt="fotorama__fullscreen",ht=lt+"__wrap",ft=ht+"--css2",mt=ht+"--css3",vt=ht+"--video",pt=ht+"--fade",gt=ht+"--slide",wt=ht+"--no-controls",bt=ht+"--no-shadows",yt=ht+"--pan-y",xt=ht+"--rtl",_t=ht+"--no-captions",Ct=ht+"--toggle-arrows",kt=lt+"__stage",Pt=kt+"__frame",St=Pt+"--video",Tt=kt+"__shaft",Ft=lt+"__grab",Mt=lt+"__pointer",Et=lt+"__arr",$t=Et+"--disabled",jt=Et+"--prev",zt=Et+"--next",qt=lt+"__nav",Nt=qt+"-wrap",At=qt+"__shaft",It=Nt+"--vertical",Lt=Nt+"--list",Ot=Nt+"--horizontal",Dt=qt+"--dots",Rt=qt+"--thumbs",Wt=qt+"__frame",Ht=lt+"__fade",Kt=Ht+"-front",Bt=Ht+"-rear",Qt=lt+"__shadow",Vt=Qt+"s",Xt=Vt+"--left",Yt=Vt+"--right",Jt=Vt+"--top",Ut=Vt+"--bottom",Gt=lt+"__active",Zt=lt+"__select",tn=lt+"--hidden",nn=lt+"--fullscreen",en=lt+"__fullscreen-icon",on=lt+"__error",an=lt+"__loading",rn=lt+"__loaded",sn=rn+"--full",un=rn+"--img",cn=lt+"__grabbing",ln=lt+"__img",dn=ln+"--full",hn=lt+"__thumb",fn=hn+"__arr--left",mn=hn+"__arr--right",vn=hn+"-border",pn=lt+"__html",gn=lt+"-video-container",wn=lt+"__video",bn=wn+"-play",yn=wn+"-close",xn=lt+"_horizontal_ratio",_n=lt+"_vertical_ratio",Cn=lt+"__spinner",kn=Cn+"--show",Pn=i&&i.fn.jquery.split(".");if(!Pn||Pn[0]<1||1==Pn[0]&&Pn[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var Sn={},Tn={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},Fn="webkit moz o ms khtml".split(" ");if("undefined"!=typeof n.cancelFullScreen)Tn.ok=!0;else for(var Mn=0,En=Fn.length;Mn<En;Mn++)if(Tn.prefix=Fn[Mn],"undefined"!=typeof n[Tn.prefix+"CancelFullScreen"]){Tn.ok=!0;break}Tn.ok&&(Tn.event=Tn.prefix+"fullscreenchange",Tn.is=function(){switch(this.prefix){case"":return n.fullScreen;case"webkit":return n.webkitIsFullScreen;default:return n[this.prefix+"FullScreen"]}},Tn.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Tn.cancel=function(t){return""===this.prefix?n.cancelFullScreen():n[this.prefix+"CancelFullScreen"]()});var $n,jn,zn=i(t),qn=i(n),Nn=n.createElement("div"),An="quirks"===e.hash.replace("#",""),In=function(t,n){return t=Nn.style,n="erspective","p"+n in t||"WebkitP"+n in t||"MozP"+n in t||"OP"+n in t||"msP"+n in t}(),Ln=In&&!An,On=(In||"CSS1Compat"===n.compatMode,Tn.ok),Dn=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Rn=!Ln||Dn,Wn=navigator.msPointerEnabled,Hn="onwheel"in n.createElement("div")?"wheel":n.onmousewheel!==o?"mousewheel":"DOMMouseScroll",Kn=250,Bn=300,Qn=1400,Vn=5e3,Xn=2,Yn=64,Jn=500,Un=333,Gn="$stageFrame",Zn="$navDotFrame",te="$navThumbFrame",ne="auto",ee=a([.1,0,.25,1]),ie=1200,oe=1,ae={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Xn,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Yn,thumbheight:Yn,thumbmargin:Xn,thumbborderwidth:Xn,allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Bn,captions:!0,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!1,trackpad:!1,shuffle:!1,direction:"ltr",shadows:!0,showcaption:!0,navdir:"horizontal",navarrows:!0,navtype:"thumbs"},re={left:!0,right:!0,down:!0,up:!0,space:!1,home:!1,end:!1};z.stop=function(t){z.ii[t]=!1};var se,ue,ce,le,de,he=function(){function t(t,n,e){var i=n/e;i<=1?(t.parent().removeClass(xn),t.parent().addClass(_n)):(t.parent().removeClass(_n),t.parent().addClass(xn))}function n(t,n,e){var a=e;t.attr(a)||t.attr(a)===o||t.attr(a,n),t.find("["+a+"]").length&&t.find("["+a+"]").each(function(){i(this).attr(a,n)})}function e(t,n,e){var i,o=!1;return i=t.showCaption===e||t.showCaption===!0,!!n&&(t.caption&&i&&(o=!0),o)}return{setRatio:t,setThumbAttr:n,isExpectedCaption:e}}(he||{},jQuery);jQuery.Fotorama=function(e,a){function r(){i.each(ze,function(t,n){if(!n.i){n.i=yi++;var e=T(n.video,!0);if(e){var i={};n.video=e,n.img||n.thumb?n.thumbsReady=!0:i=F(n,ze,pi),M(ze,{img:i.img,thumb:i.thumb},n.i,pi)}}})}function u(t){return ai[t]}function h(){if(Pi!==o)if("vertical"==a.navdir&&qe>1){var t=a.thumbwidth+a.thumbmargin;Pi.css("left",t),ki.find("."+Wt).css({marginBottom:a.thumbmargin+"px",marginRight:a.thumbmargin+"px",height:a.thumbheight+"px"}),ji.css("marginTop","")}else Pi.css("left",""),ki.find("."+Wt).css({marginBottom:"",marginRight:a.thumbmargin+"px",height:a.thumbheight+"px"}),ji.css("marginTop",a.thumbmargin+"px")}function m(t){var n,e="keydown."+lt,o=lt+gi,r="keydown."+o,s="keyup."+o,c="resize."+o+" orientationchange."+o;t?(qn.on(r,function(t){var e,o;Ae&&27===t.keyCode?(e=!0,xe(Ae,!0,!0)):(pi.fullScreen||a.keyboard&&!pi.index)&&(27===t.keyCode?(e=!0,pi.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&u("space")||37===t.keyCode&&u("left")||38===t.keyCode&&u("up")&&i(":focus").attr("data-gallery-role")?(pi.longPress.progress(),o="<"):32===t.keyCode&&u("space")||39===t.keyCode&&u("right")||40===t.keyCode&&u("down")&&i(":focus").attr("data-gallery-role")?(pi.longPress.progress(),o=">"):36===t.keyCode&&u("home")?(pi.longPress.progress(),o="<<"):35===t.keyCode&&u("end")&&(pi.longPress.progress(),o=">>")),(e||o)&&G(t),n={index:o,slow:t.altKey,user:!0},o&&(pi.longPress.inProgress?pi.showWhileLongPress(n):pi.show(n))}),t&&qn.on(s,function(t){pi.longPress.inProgress&&pi.showEndLongPress({user:!0}),pi.longPress.reset()}),pi.index||qn.off(e).on(e,"textarea, input, select",function(t){!jn.hasClass(dt)&&t.stopPropagation()}),zn.on(c,pi.resize)):(qn.off(r),zn.off(c))}function b(t){t!==b.f&&(t?(e.addClass(lt+" "+wi).before(Ci).before(_i),ut(pi)):(Ci.detach(),_i.detach(),e.html(xi.urtext).removeClass(wi),ct(pi)),m(t),b.f=t)}function y(){ze=pi.data=ze||R(a.data)||E(e),qe=pi.size=ze.length,je.ok&&a.shuffle&&D(ze),r(),Bi=X(Bi),qe&&b(!0)}function x(){var t=qe<2||Ae;Xi.noMove=t||Ge,Xi.noSwipe=t||!a.swipe,!ei&&Si.toggleClass(Ft,!a.click&&!Xi.noMove&&!Xi.noSwipe),Wn&&ki.toggleClass(yt,!Xi.noSwipe)}function k(t){t===!0&&(t=""),a.autoplay=Math.max(+t||Vn,1.5*ni)}function P(t){t.navarrows&&"thumbs"===t.nav?(Ii.show(),Li.show()):(Ii.hide(),Li.hide())}function S(t,n){return Math.floor(ki.width()/(n.thumbwidth+n.thumbmargin))}function $(){function t(t,e){n[t?"add":"remove"].push(e)}a.nav&&"dots"!==a.nav||(a.navdir="horizontal"),pi.options=a=H(a),oe=S(ki,a),Ge="crossfade"===a.transition||"dissolve"===a.transition,Qe=a.loop&&(qe>2||Ge&&(!ei||"slide"!==ei)),ni=+a.transitionduration||Bn,oi="rtl"===a.direction,ai=i.extend({},a.keyboard&&re,a.keyboard),P(a);var n={add:[],remove:[]};qe>1?(Ve=a.nav,Ye="top"===a.navposition,n.remove.push(Zt)):(Ve=!1,Ei.hide()),An(),Dn(),In(),a.autoplay&&k(a.autoplay),Ze=f(a.thumbwidth)||Yn,ti=f(a.thumbheight)||Yn,Yi.ok=Ui.ok=a.trackpad&&!Rn,x(),ce(a,[Vi]),Xe="thumbs"===Ve,$i.filter(":hidden")&&Ve&&$i.show(),Xe?(_n(qe,"navThumb"),Ne=Ni,vi=te,ji.addClass(Rt).removeClass(Dt)):"dots"===Ve?(_n(qe,"navDot"),Ne=qi,vi=Zn,ji.addClass(Dt).removeClass(Rt)):($i.hide(),Ve=!1,ji.removeClass(Rt+" "+Dt)),Ve&&(Ye?$i.insertBefore(Pi):$i.insertAfter(Pi),Mn.nav=!1,Mn(Ne,zi,"nav")),Je=a.allowfullscreen,Je?(Oi.prependTo(Pi),Ue=On&&"native"===Je,Z(Oi,"touchend")):(Oi.detach(),Ue=!1),t(Ge,pt),t(!Ge,gt),t(!a.captions,_t),t(oi,xt),t(a.arrows,Ct),ii=a.shadows&&!Rn,t(!ii,bt),ki.addClass(n.add.join(" ")).removeClass(n.remove.join(" ")),Qi=i.extend({},a),h()}function B(t){return t<0?(qe+t%qe)%qe:t>=qe?t%qe:t}function X(t){return s(t,0,qe-1)}function it(t){return Qe?B(t):X(t)}function ot(t){return!!(t>0||Qe)&&t-1}function st(t){return!!(t<qe-1||Qe)&&t+1}function Ht(){Xi.min=Qe?-(1/0):-g(qe-1,Vi.w,a.margin,Oe),Xi.max=Qe?1/0:-g(0,Vi.w,a.margin,Oe),Xi.snap=Vi.w+a.margin}function Kt(){var t="vertical"===a.navdir,n=t?zi.height():zi.width(),e=t?Vi.h:Vi.nw;Ji.min=Math.min(0,e-n),Ji.max=0,Ji.direction=a.navdir,zi.toggleClass(Ft,!(Ji.noMove=Ji.min===Ji.max))}function Bt(t,n,e){if("number"==typeof t){t=new Array(t);var o=!0}return i.each(t,function(t,i){if(o&&(i=t),"number"==typeof i){var a=ze[B(i)];if(a){var r="$"+n+"Frame",s=a[r];e.call(this,t,i,a,s,r,s&&s.data())}}})}function Qt(t,n,e,i){(!ri||"*"===ri&&i===Be)&&(t=p(a.width)||p(t)||Jn,n=p(a.height)||p(n)||Un,pi.resize({width:t,ratio:a.ratio||e||t/n},0,i!==Be&&"*"))}function cn(t,n,e,o){Bt(t,n,function(t,r,s,u,c,l){function d(t){var n=B(r);le(t,{index:n,src:y,frame:ze[n]})}function h(){g.remove(),i.Fotorama.cache[y]="error",s.html&&"stage"===n||!x||x===y?(!y||s.html||v?"stage"===n&&(u.trigger("f:load").removeClass(an+" "+on).addClass(rn),d("load"),Qt()):(u.trigger("f:error").removeClass(an).addClass(on),d("error")),l.state="error",!(qe>1&&ze[r]===s)||s.html||s.deleted||s.video||v||(s.deleted=!0,pi.splice(r,1))):(s[b]=y=x,l.$full=null,cn([r],n,e,!0))}function f(){i.Fotorama.measures[y]=w.measures=i.Fotorama.measures[y]||{width:p.width,height:p.height,ratio:p.width/p.height},Qt(w.measures.width,w.measures.height,w.measures.ratio,r),g.off("load error").addClass(""+(v?dn:ln)).attr("aria-hidden","false").prependTo(u),u.hasClass(Pt)&&!u.hasClass(gn)&&u.attr("href",g.attr("src")),q(g,(i.isFunction(e)?e():e)||Vi),i.Fotorama.cache[y]=l.state="loaded",setTimeout(function(){u.trigger("f:load").removeClass(an+" "+on).addClass(rn+" "+(v?sn:un)),"stage"===n?d("load"):(s.thumbratio===ne||!s.thumbratio&&a.thumbratio===ne)&&(s.thumbratio=w.measures.ratio,Ee())},0)}function m(){var t=10;z(function(){return!fi||!t--&&!Rn},function(){f()})}if(u){var v=pi.fullScreen&&!l.$full&&"stage"===n;if(!l.$img||o||v){var p=new Image,g=i(p),w=g.data();l[v?"$full":"$img"]=g;var b="stage"===n?v?"full":"img":"thumb",y=s[b],x=v?s.img:s["stage"===n?"thumb":"img"];if("navThumb"===n&&(u=l.$wrap),!y)return void h();i.Fotorama.cache[y]?!function t(){"error"===i.Fotorama.cache[y]?h():"loaded"===i.Fotorama.cache[y]?setTimeout(m,0):setTimeout(t,100)}():(i.Fotorama.cache[y]="*",g.on("load",m).on("error",h)),l.state="",p.src=y,l.data.caption&&(p.alt=l.data.caption||""),l.data.full&&i(p).data("original",l.data.full),he.isExpectedCaption(s,a.showcaption)&&i(p).attr("aria-labelledby",s.labelledby)}}})}function hn(){var t=Ie[Gn];t&&!t.data().state&&(Ki.addClass(kn),t.on("f:load f:error",function(){t.off("f:load f:error"),Ki.removeClass(kn)}))}function xn(t){J(t,Te),U(t,function(){setTimeout(function(){W(ji)},0),Xn({time:ni,guessIndex:i(this).data().eq,minMax:Ji})})}function _n(t,n){Bt(t,n,function(t,e,o,r,s,u){if(!r){r=o[s]=ki[s].clone(),u=r.data(),u.data=o;var c=r[0],l="labelledby"+i.now();"stage"===n?(o.html&&i('<div class="'+pn+'"></div>').append(o._html?i(o.html).removeAttr("id").html(o._html):o.html).appendTo(r),o.id&&(l=o.id||l),o.labelledby=l,he.isExpectedCaption(o,a.showcaption)&&i(i.Fotorama.jst.frameCaption({caption:o.caption,labelledby:l})).appendTo(r),o.video&&r.addClass(St).append(Ri.clone()),U(c,function(){setTimeout(function(){W(Pi)},0),ke({index:u.eq,user:!0})}),Ti=Ti.add(r)):"navDot"===n?(xn(c),qi=qi.add(r)):"navThumb"===n&&(xn(c),u.$wrap=r.children(":first"),Ni=Ni.add(r),o.video&&u.$wrap.append(Ri.clone()))}})}function Pn(t,n){return t&&t.length&&q(t,n)}function Sn(t){Bt(t,"stage",function(t,n,e,o,r,s){if(o){var u=B(n);s.eq=u,Zi[Gn][u]=o.css(i.extend({left:Ge?0:g(n,Vi.w,a.margin,Oe)},Ge&&d(0))),j(o[0])&&(Si[0]!==o.parent()[0]&&o.appendTo(Si),xe(e.$video)),Pn(s.$img,Vi),Pn(s.$full,Vi),!o.hasClass(Pt)||"false"===o.attr("aria-hidden")&&o.hasClass(Gt)||o.attr("aria-hidden","true")}})}function Fn(t,n){var e,o;"thumbs"!==Ve||isNaN(t)||(e=-t,o=-t+Vi.nw,"vertical"===a.navdir&&(t-=a.thumbheight,o=-t+Vi.h),Ni.each(function(){var t=i(this),r=t.data(),s=r.eq,u=function(){return{h:ti,w:r.w}},c=u(),l="vertical"===a.navdir?r.t>o:r.l>o;c.w=r.w,r.l+r.w<e||l||Pn(r.$img,c)||n&&cn([s],"navThumb",u)}))}function Mn(t,n,e){if(!Mn[e]){var o="nav"===e&&Xe,r=0,s=0;n.append(t.filter(function(){for(var t,n=i(this),e=n.data(),o=0,a=ze.length;o<a;o++)if(e.data===ze[o]){t=!0,e.eq=o;break}return t||n.remove()&&!1}).sort(function(t,n){return i(t).data().eq-i(n).data().eq}).each(function(){var t=i(this),n=t.data();he.setThumbAttr(t,n.data.caption,"aria-label")}).each(function(){if(o){var t=i(this),n=t.data(),e=Math.round(ti*n.data.thumbratio)||Ze,u=Math.round(Ze/n.data.thumbratio)||ti;n.t=s,n.h=u,n.l=r,n.w=e,t.css({width:e}),s+=u+a.thumbmargin,r+=e+a.thumbmargin}})),Mn[e]=!0}}function En(t){return t-to>Vi.w/3}function Nn(t){return!(Qe||Bi+t&&Bi-qe+t||Ae)}function An(){var t=Nn(0),n=Nn(1);Fi.toggleClass($t,t).attr(Y(t,!1)),Mi.toggleClass($t,n).attr(Y(n,!1))}function In(){var t=!1,n=!1;if("thumbs"!==a.navtype||a.loop||(t=0==Bi,n=Bi==a.data.length-1),"slides"===a.navtype){var e=c(zi,a.navdir);t=e>=Ji.max,n=e<=Ji.min}Ii.toggleClass($t,t).attr(Y(t,!0)),Li.toggleClass($t,n).attr(Y(n,!0))}function Dn(){Yi.ok&&(Yi.prevent={"<":Nn(0),">":Nn(1)})}function Hn(t){var n,e,i,o,r=t.data();Xe?(n=r.l,e=r.t,i=r.w,o=r.h):(n=t.position().left,i=t.width());var s={c:n+i/2,min:-n+10*a.thumbmargin,max:-n+Vi.w-i-10*a.thumbmargin},u={c:e+o/2,min:-e+10*a.thumbmargin,max:-e+Vi.h-o-10*a.thumbmargin};return"vertical"===a.navdir?u:s}function Qn(t){var n=Ie[vi].data();nt(Ai,{time:1.2*t,pos:"vertical"===a.navdir?n.t:n.l,width:n.w,height:n.h,direction:a.navdir})}function Xn(t){var n,e,i,o,r,u,l,d,h=ze[t.guessIndex][vi],f=a.navtype;h&&("thumbs"===f?(n=Ji.min!==Ji.max,i=t.minMax||n&&Hn(Ie[vi]),o=n&&(t.keep&&Xn.t?Xn.l:s((t.coo||Vi.nw/2)-Hn(h).c,i.min,i.max)),r=n&&(t.keep&&Xn.l?Xn.l:s((t.coo||Vi.nw/2)-Hn(h).c,i.min,i.max)),u="vertical"===a.navdir?o:r,l=n&&s(u,Ji.min,Ji.max)||0,e=1.1*t.time,nt(zi,{time:e,pos:l,direction:a.navdir,onEnd:function(){Fn(l,!0),In()}}),ye(ji,N(l,Ji.min,Ji.max,a.navdir)),Xn.l=u):(d=c(zi,a.navdir),e=1.11*t.time,l=V(a,Ji,t.guessIndex,d,h,$i,a.navdir),nt(zi,{time:e,pos:l,direction:a.navdir,onEnd:function(){Fn(l,!0),In()}}),ye(ji,N(l,Ji.min,Ji.max,a.navdir))))}function ee(){ae(vi),Gi[vi].push(Ie[vi].addClass(Gt).attr("data-active",!0))}function ae(t){for(var n=Gi[t];n.length;)n.shift().removeClass(Gt).attr("data-active",!1)}function se(t){var n=Zi[t];i.each(Le,function(t,e){delete n[B(e)]}),i.each(n,function(t,e){delete n[t],e.detach()})}function ue(t){Oe=De=Bi;var n=Ie[Gn];n&&(ae(Gn),Gi[Gn].push(n.addClass(Gt).attr("data-active",!0)),n.hasClass(Pt)&&n.attr("aria-hidden","false"),t||pi.showStage.onEnd(!0),_(Si,0,!0),se(Gn),Sn(Le),Ht(),Kt(),J(Si[0],function(){e.hasClass(nn)||(pi.requestFullScreen(),Oi.focus())}))}function ce(t,n){t&&i.each(n,function(n,e){e&&i.extend(e,{width:t.width||e.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:K(t.ratio)})})}function le(t,n){e.trigger(lt+":"+t,[pi,n])}function de(){clearTimeout(fe.t),fi=1,a.stopautoplayontouch?pi.stopAutoplay():li=!0}function fe(){fi&&(a.stopautoplayontouch||(me(),ve()),fe.t=setTimeout(function(){fi=0},Bn+Kn))}function me(){li=!(!Ae&&!di)}function ve(){if(clearTimeout(ve.t),z.stop(ve.w),!a.autoplay||li)return void(pi.autoplay&&(pi.autoplay=!1,le("stopautoplay")));pi.autoplay||(pi.autoplay=!0,le("startautoplay"));var t=Bi,n=Ie[Gn].data();ve.w=z(function(){return n.state||t!==Bi},function(){ve.t=setTimeout(function(){if(!li&&t===Bi){var n=Ke,e=ze[n][Gn].data();ve.w=z(function(){return e.state||n!==Ke},function(){li||n!==Ke||pi.show(Qe?tt(!oi):Ke)})}},a.autoplay)})}function pe(t){var n;return"object"!=typeof t?(n=t,t={}):n=t.index,n=">"===n?De+1:"<"===n?De-1:"<<"===n?0:">>"===n?qe-1:n,n=isNaN(n)?o:n,n="undefined"==typeof n?Bi||0:n}function ge(t){pi.activeIndex=Bi=it(t),We=ot(Bi),He=st(Bi),Ke=B(Bi+(oi?-1:1)),Le=[Bi,We,He],De=Qe?t:Bi}function we(t){var n=Math.abs(Re-De),e=C(t.time,function(){return Math.min(ni*(1+(n-1)/12),2*ni)});return t.slow&&(e*=10),e}function be(){pi.fullScreen&&(pi.fullScreen=!1,On&&Tn.cancel(bi),jn.removeClass(dt),$n.removeClass(dt),e.removeClass(nn).insertAfter(Ci),Vi=i.extend({},hi),xe(Ae,!0,!0),Se("x",!1),pi.resize(),cn(Le,"stage"),W(zn,ui,si),le("fullscreenexit"))}function ye(t,n){ii&&(t.removeClass(Xt+" "+Yt),t.removeClass(Jt+" "+Ut),n&&!Ae&&t.addClass(n.replace(/^|\s/g," "+Vt+"--")))}function xe(t,n,e){n&&(ki.removeClass(vt),Ae=!1,x()),t&&t!==Ae&&(t.remove(),le("unloadvideo")),e&&(me(),ve())}function _e(t){ki.toggleClass(wt,t)}function Ce(t){if(!Xi.flow){var n=t?t.pageX:Ce.x,e=n&&!Nn(En(n))&&a.click;Ce.p!==e&&Pi.toggleClass(Mt,e)&&(Ce.p=e,Ce.x=n)}}function ke(t){clearTimeout(ke.t),a.clicktransition&&a.clicktransition!==a.transition?setTimeout(function(){var n=a.transition;pi.setOptions({transition:a.clicktransition}),ei=n,ke.t=setTimeout(function(){pi.show(t)},10)},0):pi.show(t)}function Pe(t,n){var o=t.target,a=i(o);a.hasClass(bn)?pi.playVideo():o===Di?pi.toggleFullScreen():Ae?o===Hi&&xe(Ae,!0,!0):e.hasClass(nn)||pi.requestFullScreen()}function Se(t,n){Xi[t]=Ji[t]=n}function Te(t){var n=i(this).data().eq;ke("thumbs"===a.navtype?{index:n,slow:t.altKey,user:!0,coo:t._x-ji.offset().left}:{index:n,slow:t.altKey,user:!0})}function Fe(t){ke({index:Ei.index(this)?">":"<",slow:t.altKey,user:!0})}function Me(t){U(t,function(){setTimeout(function(){W(Pi)},0),_e(!1)})}function Ee(){if(y(),$(),!Ee.i){Ee.i=!0;var t=a.startindex;Bi=Oe=De=Re=Be=it(t)||0}if(qe){if($e())return;Ae&&xe(Ae,!0),Le=[],se(Gn),Ee.ok=!0,pi.show({index:Bi,time:0}),pi.resize()}else pi.destroy()}function $e(){if(!$e.f===oi)return $e.f=oi,Bi=qe-1-Bi,pi.reverse(),!0}function je(){je.ok&&(je.ok=!1,le("ready"))}$n=i("html"),jn=i("body");var ze,qe,Ne,Ae,Ie,Le,Oe,De,Re,We,He,Ke,Be,Qe,Ve,Xe,Ye,Je,Ue,Ge,Ze,ti,ni,ei,ii,oi,ai,ri,si,ui,ci,li,di,hi,fi,mi,vi,pi=this,gi=i.now(),wi=lt+gi,bi=e[0],yi=1,xi=e.data(),_i=i("<style></style>"),Ci=i(I(tn)),ki=e.find(L(ht)),Pi=ki.find(L(kt)),Si=(Pi[0],e.find(L(Tt))),Ti=i(),Fi=e.find(L(jt)),Mi=e.find(L(zt)),Ei=e.find(L(Et)),$i=e.find(L(Nt)),ji=$i.find(L(qt)),zi=ji.find(L(At)),qi=i(),Ni=i(),Ai=(Si.data(),zi.data(),e.find(L(vn))),Ii=e.find(L(fn)),Li=e.find(L(mn)),Oi=e.find(L(en)),Di=Oi[0],Ri=i(I(bn)),Wi=e.find(L(yn)),Hi=Wi[0],Ki=e.find(L(Cn)),Bi=!1,Qi={},Vi={},Xi={},Yi={},Ji={},Ui={},Gi={},Zi={},to=0,no=[];ki[Gn]=i('<div class="'+Pt+'"></div>'),ki[te]=i(i.Fotorama.jst.thumb()),ki[Zn]=i(i.Fotorama.jst.dots()),Gi[Gn]=[],Gi[te]=[],Gi[Zn]=[],Zi[Gn]={},ki.addClass(Ln?mt:ft),xi.fotorama=this,pi.startAutoplay=function(t){return pi.autoplay?this:(li=di=!1,k(t||a.autoplay),ve(),this)},pi.stopAutoplay=function(){return pi.autoplay&&(li=di=!0,ve()),this},pi.showSlide=function(t){var n,e=c(zi,a.navdir),i=550,o="horizontal"===a.navdir?a.thumbwidth:a.thumbheight,r=function(){In()};"next"===t&&(n=e-(o+a.margin)*oe-a.margin),"prev"===t&&(n=e+(o+a.margin)*oe-a.margin),n=Q(n,Ji),Fn(n,!0),nt(zi,{time:i,pos:n,direction:a.navdir,onEnd:r})},pi.showWhileLongPress=function(t){if(!pi.longPress.singlePressInProgress){var n=pe(t);ge(n);var e=we(t)/50,i=Ie;pi.activeFrame=Ie=ze[Bi];var o=i===Ie&&!t.user;return pi.showNav(o,t,e),this}},pi.showEndLongPress=function(t){if(!pi.longPress.singlePressInProgress){var n=pe(t);ge(n);var e=we(t)/50,i=Ie;pi.activeFrame=Ie=ze[Bi];var o=i===Ie&&!t.user;return pi.showStage(o,t,e),ci="undefined"!=typeof Re&&Re!==Bi,Re=Bi,this}},pi.showStage=function(t,n,e){xe(Ae,Ie.i!==ze[B(Oe)].i),_n(Le,"stage"),Sn(Rn?[De]:[De,ot(De),st(De)]),Se("go",!0),t||le("show",{user:n.user,time:e}),li=!0;var i=n.overPos,o=pi.showStage.onEnd=function(e){if(!o.ok){if(o.ok=!0,e||ue(!0),t||le("showend",{user:n.user}),!e&&ei&&ei!==a.transition)return pi.setOptions({transition:ei}),void(ei=!1);hn(),cn(Le,"stage"),Se("go",!1),Dn(),Ce(),me(),ve(),pi.fullScreen?(Ie[Gn].find("."+dn).attr("aria-hidden",!1),Ie[Gn].find("."+ln).attr("aria-hidden",!0)):(Ie[Gn].find("."+dn).attr("aria-hidden",!0),Ie[Gn].find("."+ln).attr("aria-hidden",!1))}};if(Ge){var r=Ie[Gn],s=ze[Re]&&Bi!==Re?ze[Re][Gn]:null;et(r,s,Ti,{time:e,method:a.transition,onEnd:o},no)}else nt(Si,{pos:-g(De,Vi.w,a.margin,Oe),overPos:i,time:e,onEnd:o});An()},pi.showNav=function(t,n,e){if(In(),Ve){ee();var i=X(Bi+s(De-Re,-1,1));Xn({time:e,coo:i!==Bi&&n.coo,guessIndex:"undefined"!=typeof n.coo?i:Bi,keep:t}),Xe&&Qn(e)}},pi.show=function(t){pi.longPress.singlePressInProgress=!0;var n=pe(t);ge(n);var e=we(t),i=Ie;pi.activeFrame=Ie=ze[Bi];var o=i===Ie&&!t.user;return pi.showStage(o,t,e),pi.showNav(o,t,e),ci="undefined"!=typeof Re&&Re!==Bi,Re=Bi,pi.longPress.singlePressInProgress=!1,this},pi.requestFullScreen=function(){if(Je&&!pi.fullScreen){var n=i((pi.activeFrame||{}).$stageFrame||{}).hasClass("fotorama-video-container");if(n)return;si=zn.scrollTop(),ui=zn.scrollLeft(),W(zn),Se("x",!0),hi=i.extend({},Vi),e.addClass(nn).appendTo(jn.addClass(dt)),$n.addClass(dt),xe(Ae,!0,!0),pi.fullScreen=!0,Ue&&Tn.request(bi),pi.resize(),cn(Le,"stage"),hn(),le("fullscreenenter"),"ontouchstart"in t||Oi.focus()}return this},pi.cancelFullScreen=function(){return Ue&&Tn.is()?Tn.cancel(n):be(),this},pi.toggleFullScreen=function(){return pi[(pi.fullScreen?"cancel":"request")+"FullScreen"]();
},pi.resize=function(n){if(!ze)return this;var e=arguments[1]||0,o=arguments[2];oe=S(ki,a),ce(pi.fullScreen?{width:i(t).width(),maxwidth:null,minwidth:null,height:i(t).height(),maxheight:null,minheight:null}:H(n),[Vi,o||pi.fullScreen||a]);var r=Vi.width,u=Vi.height,c=Vi.ratio,l=zn.height()-(Ve?ji.height():0);if(p(r)&&(ki.css({width:""}),ki.css({height:""}),Pi.css({width:""}),Pi.css({height:""}),Si.css({width:""}),Si.css({height:""}),ji.css({width:""}),ji.css({height:""}),ki.css({minWidth:Vi.minwidth||0,maxWidth:Vi.maxwidth||ie}),"dots"===Ve&&$i.hide(),r=Vi.W=Vi.w=ki.width(),Vi.nw=Ve&&v(a.navwidth,r)||r,Si.css({width:Vi.w,marginLeft:(Vi.W-Vi.w)/2}),u=v(u,l),u=u||c&&r/c)){if(r=Math.round(r),u=Vi.h=Math.round(s(u,v(Vi.minheight,l),v(Vi.maxheight,l))),"vertical"==a.navdir&&qe>1){var d=a.thumbwidth+a.thumbmargin,f=r-d,m=f*u/r;r=f,u=Vi.h=m,Si.css({width:r})}if(Pi.css({width:r,height:u}),"vertical"!==a.navdir||pi.fullscreen||ji.width(a.thumbwidth),"horizontal"!==a.navdir||pi.fullscreen||ji.height(a.thumbheight),"dots"===Ve&&(ji.width(r).height("auto"),$i.show()),"vertical"===a.navdir&&pi.fullScreen&&Pi.css("height",zn.height()),"horizontal"===a.navdir&&pi.fullScreen&&Pi.css("height",zn.height()-ji.height()),Ve){switch(a.navdir){case"vertical":$i.removeClass(Ot),$i.removeClass(Lt),$i.addClass(It),ji.stop().animate({height:u,width:a.thumbwidth},e);break;case"list":$i.removeClass(It),$i.removeClass(Ot),$i.addClass(Lt);break;default:$i.removeClass(It),$i.removeClass(Lt),$i.addClass(Ot),ji.stop().animate({width:Vi.nw},e)}ue(),Xn({guessIndex:Bi,time:e,keep:!0}),Xe&&Mn.nav&&Qn(e)}ri=o||!0,je.ok=!0,je()}return to=Pi.offset().left,h(),this},pi.setOptions=function(t){return i.extend(a,t),Ee(),this},pi.shuffle=function(){return ze&&D(ze)&&Ee(),this},pi.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){this.inProgress||(this.count++,this.inProgress=this.count>this.threshold)},end:function(){this.inProgress&&(this.isEnded=!0)},reset:function(){this.count=0,this.inProgress=!1,this.isEnded=!1}},pi.destroy=function(){return pi.cancelFullScreen(),pi.stopAutoplay(),ze=pi.data=null,b(),Le=[],se(Gn),Ee.ok=!1,this},pi.playVideo=function(){var t=Ie,n=t.video,e=Bi;return"object"==typeof n&&t.videoReady&&(Ue&&pi.fullScreen&&pi.cancelFullScreen(),z(function(){return!Tn.is()||e!==Bi},function(){e===Bi&&(t.$video=t.$video||i(I(wn)).append(O(n)),t.$video.appendTo(t[Gn]),ki.addClass(vt),Ae=t.$video,x(),Ei.blur(),Oi.blur(),le("loadvideo"))})),this},pi.stopVideo=function(){return xe(Ae,!0,!0),this},pi.spliceByIndex=function(t,n){n.i=t+1,n.img&&i.ajax({url:n.img,type:"HEAD",success:function(){ze.splice(t,1,n),Ee()}})},Pi.on("mousemove",Ce),Xi=at(Si,{onStart:de,onMove:function(t,n){ye(Pi,n.edge)},onTouchEnd:fe,onEnd:function(t){var n;if(ye(Pi),n=(Wn&&!mi||t.touch)&&a.arrows,(t.moved||n&&t.pos!==t.newPos&&!t.control)&&t.$target[0]!==Oi[0]){var e=w(t.newPos,Vi.w,a.margin,Oe);pi.show({index:e,time:Ge?ni:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||Pe(t.startEvent,n)},timeLow:1,timeHigh:1,friction:2,select:"."+Zt+", ."+Zt+" *",$wrap:Pi,direction:"horizontal"}),Ji=at(zi,{onStart:de,onMove:function(t,n){ye(ji,n.edge)},onTouchEnd:fe,onEnd:function(t){function n(){Xn.l=t.newPos,me(),ve(),Fn(t.newPos,!0),In()}if(t.moved)t.pos!==t.newPos?(li=!0,nt(zi,{time:t.time,pos:t.newPos,overPos:t.overPos,direction:a.navdir,onEnd:n}),Fn(t.newPos),ii&&ye(ji,N(t.newPos,Ji.min,Ji.max,t.dir))):n();else{var e=t.$target.closest("."+Wt,zi)[0];e&&Te.call(e,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:ji,direction:a.navdir}),Yi=rt(Pi,{shift:!0,onEnd:function(t,n){de(),fe(),pi.show({index:n,slow:t.altKey})}}),Ui=rt(ji,{onEnd:function(t,n){de(),fe();var e=_(zi)+.25*n;zi.css(l(s(e,Ji.min,Ji.max),a.navdir)),ii&&ye(ji,N(e,Ji.min,Ji.max,a.navdir)),Ui.prevent={"<":e>=Ji.max,">":e<=Ji.min},clearTimeout(Ui.t),Ui.t=setTimeout(function(){Xn.l=e,Fn(e,!0)},Kn),Fn(e)}}),ki.hover(function(){setTimeout(function(){fi||_e(!(mi=!0))},0)},function(){mi&&_e(!(mi=!1))}),A(Ei,function(t){G(t),Fe.call(this,t)},{onStart:function(){de(),Xi.control=!0},onTouchEnd:fe}),A(Ii,function(t){G(t),"thumbs"===a.navtype?pi.show("<"):pi.showSlide("prev")}),A(Li,function(t){G(t),"thumbs"===a.navtype?pi.show(">"):pi.showSlide("next")}),Ei.each(function(){J(this,function(t){Fe.call(this,t)}),Me(this)}),J(Di,function(){e.hasClass(nn)?(pi.cancelFullScreen(),Si.focus()):(pi.requestFullScreen(),Oi.focus())}),Me(Di),i.each("load push pop shift unshift reverse sort splice".split(" "),function(t,n){pi[n]=function(){return ze=ze||[],"load"!==n?Array.prototype[n].apply(ze,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(ze=R(arguments[0])),Ee(),pi}}),Ee()},i.fn.fotorama=function(n){return this.each(function(){var e=this,o=i(this),a=o.data(),r=a.fotorama;r?r.setOptions(n,!0):z(function(){return!$(e)},function(){a.urtext=o.html(),new i.Fotorama(o,i.extend({},ae,t.fotoramaDefaults,n,a))})})},i.Fotorama.instances=[],i.Fotorama.cache={},i.Fotorama.measures={},i=i||{},i.Fotorama=i.Fotorama||{},i.Fotorama.jst=i.Fotorama.jst||{},i.Fotorama.jst.dots=function(t){var n="";Sn.escape;return n+='<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>'},i.Fotorama.jst.frameCaption=function(t){var n,e="";Sn.escape;return e+='<div class="fotorama__caption" aria-hidden="true">\r\n    <div class="fotorama__caption__wrap" id="'+(null==(n=t.labelledby)?"":n)+'">'+(null==(n=t.caption)?"":n)+"</div>\r\n</div>\r\n"},i.Fotorama.jst.thumb=function(t){var n="";Sn.escape;return n+='<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>'}}(window,document,location,"undefined"!=typeof jQuery&&jQuery);